var k=Object.defineProperty;var b=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var N=(t,e,r)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,h=(t,e)=>{for(var r in e||(e={}))C.call(e,r)&&N(t,r,e[r]);if(b)for(var r of b(e))j.call(e,r)&&N(t,r,e[r]);return t};var u=(t,e,r)=>(N(t,typeof e!="symbol"?e+"":e,r),r);import{a as B,j as S,u as A,Y as I,b as U,r as l,L as M,c as T,R as q,d as w,e as O,f as D,B as F}from"./vendor.ed1858bb.js";const H=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}};H();class W{constructor(){u(this,"BASE_URL");u(this,"Axios");u(this,"get",async(e,r)=>this.Axios.get(e,{params:r}));this.BASE_URL="https://api.jikan.moe/v4",this.Axios=B.create({baseURL:this.BASE_URL})}}var p=new W,Y="/Project-Anime/assets/spinner.50300d8c.png";const s=S.exports.jsx,n=S.exports.jsxs,_=S.exports.Fragment,m=()=>s("img",{className:"spinner",src:Y,alt:"+"});const x=({imageUrl:t,title:e,malId:r})=>{let o=A();return n("div",{onClick:r?()=>{o(`/anime/${r}`)}:()=>null,className:"tile",children:[s("img",{src:t,alt:"banner"}),e&&n(_,{children:[s("div",{className:"blur"}),s("span",{children:e})]})]})};const z=({videoId:t})=>s("div",{className:"video-player",children:t===null?s("span",{className:"error",children:"Sorry! Looks like there is no trailer for this Anime."}):t?s(I,{videoId:t,id:t,opts:{width:"100%",playerVars:{autoplay:1,cc_load_policy:1,rel:0,mute:1}},onReady:e=>{console.log("Ready to play ",e)},onPlay:e=>{console.log("playing ",e)},onPause:e=>{console.log("Paused ",e)},onEnd:e=>console.log("Ended ",e),onError:e=>console.log("Video Error",e)}):s(m,{})});const E=({animeEntry:t,showTitle:e})=>{let r=A();const o=()=>{r(`anime/${t.mal_id}`)};return t?n("div",{className:"video-container-hoc",children:[s(z,{videoId:t.trailer.youtube_id}),e&&n("div",{className:"title-container",children:[s("h1",{className:"title",children:t.title}),s("button",{onClick:o,children:"More Details"})]})]}):s(m,{})},R={search:"/anime",getAnimeById:"/anime",getSeasonNow:"/seasons/now",getTopAnime:"/top/anime",getWatchRecentEpisodes:"/watch/episodes"},g=t=>({url:R.search,params:t}),G=t=>({url:R.getAnimeById+"/"+t.toString(),params:{}}),K=()=>g({q:"",sfw:!0,order_by:"score",sort:"desc",status:"airing",min_score:6}),J=()=>g({q:"",sfw:!0,order_by:"popularity",sort:"asc",status:"complete",min_score:6}),Q=()=>g({q:"",sfw:!0,order_by:"members",sort:"desc",status:"upcoming"});const X=()=>{let{animeId:t}=U();const[e,r]=l.exports.useState(null),[o,a]=l.exports.useState(!1);return l.exports.useEffect(()=>{if(t){const{url:i,params:c}=G(t);p.get(i,c).then(d=>r(d.data.data)).catch(d=>a(d))}},[t]),e?n("div",{className:"anime-page",children:[s(E,{animeEntry:e}),n("div",{className:"anime-desc",children:[n("div",{className:"anime-expose",children:[s(x,{imageUrl:e.images.webp.large_image_url}),n("div",{className:"anime-details",children:[s("h1",{className:"title",children:e.title}),n("div",{className:"anime-rating",children:[n("span",{className:"ratings",children:["Score:"," ",s("span",{className:"accent rating-number",children:e.score})]}),n("span",{className:"ratings",children:["Ranked:"," ",n("span",{className:"accent rating-number",children:["#",e.rank]})]}),n("span",{className:"ratings",children:["Popularity:"," ",n("span",{className:"accent rating-number",children:["#",e.popularity]})]})]}),n("div",{className:"data",children:[s("span",{className:"bold",children:"Episodes: "})," ",e.episodes]}),n("div",{className:"data",children:[s("span",{className:"bold",children:"Status: "})," ",e.status]}),n("div",{className:"data",children:[s("span",{className:"bold",children:"Aired: "})," ",` ${e.aired.from?new Date(e.aired.from).toDateString():"?"} -- ${e.aired.to?new Date(e.aired.to).toDateString():"?"}`]}),n("div",{className:"data",children:[s("span",{className:"bold",children:"Genres: "})," ",e.genres.map(i=>i.name).join(", ")]})]})]}),n("div",{className:"synopsys",children:[n("h2",{children:["Synopsys",s("span",{className:"accent",children:"."})]}),s("p",{children:e.synopsis})]})]})]}):s("div",{className:"error",children:o?"Sorry! Could not find the requested Anime":s(m,{})})};const Z=({tiles:t,showMore:e})=>n("div",{className:"tile-set-container",children:[t.map(r=>s(x,{malId:r.mal_id,title:r.title,imageUrl:r.images.webp.large_image_url},r.mal_id)),e&&s("span",{style:{width:"300px",padding:"30px",fontWeight:"bold",color:"gray"},children:"Show more."})]});const P=({animeData:t,rowTitle:e})=>t.length>0?n("div",{className:"tile-list-container",children:[s("h2",{children:e}),s(Z,{showMore:t.length>10,tiles:t.length>10?t.slice(0,10):t})]}):null,ee=({title:t,url:e,params:r})=>{const[o,a]=l.exports.useState([]);return l.exports.useEffect(()=>{p.get(e,r).then(i=>a(i.data.data))},[]),s(P,{rowTitle:t,animeData:o})},te=({tileSets:t})=>s(_,{children:t.map(e=>s(ee,h({},e),e.title))}),se=()=>{const[t,e]=l.exports.useState([]);l.exports.useEffect(()=>{const{url:i,params:c}=Q();p.get(i,c).then(d=>e(d.data.data))},[]);const o=(()=>{const i=t.filter(c=>c.trailer.youtube_id!==null);return i[Math.floor(Math.random()*i.length)]})(),a=[h({title:"Top Airing Anime"},K()),h({title:"Most Popular Anime"},J())];return n("div",{children:[s(E,{animeEntry:o,showTitle:!0}),s(P,{rowTitle:"Top Upcoming Anime",animeData:t}),s(te,{tileSets:a})]})},$=l.exports.createContext({}),re=({children:t})=>{const[e,r]=l.exports.useState(""),o=a=>r(a);return s($.Provider,{value:{searchValue:e,updateSearchValue:o},children:t})},L=()=>l.exports.useContext($);const ae=({results:t})=>s("div",{className:"results",children:t.map(e=>s(x,{title:e.title,imageUrl:e.images.webp.large_image_url,malId:e.mal_id},e.mal_id))});const ne=({searchResults:t,title:e,results:r,error:o})=>n("div",{className:"results-container",children:[e&&s("span",{className:"results-title",children:e}),t&&s("span",{className:"search-results-title",children:"Top Search Results."}),r?s(ae,{results:r}):o?s("span",{className:"error",children:"There seems to be an error. Please try again"}):s(m,{})]}),V=(t,e)=>{let r;return(...o)=>{clearTimeout(r),r=setTimeout(()=>t(...o),e)}};const ie=()=>{const[t,e]=l.exports.useState([]),[r,o]=l.exports.useState(null),[a,i]=l.exports.useState(!0),c=L(),d=l.exports.useCallback(V((y,f)=>{i(!0),p.get(y,f).then(v=>e(v.data.data)).catch(v=>o(v)).finally(()=>i(!1))},2e3),[]);return l.exports.useEffect(()=>{const{url:y,params:f}=g({q:c.searchValue,sfw:!0});d(y,f)},[c.searchValue]),s("div",{className:"search-container",children:a?s(m,{}):s(ne,{searchResults:!0,error:r,results:t})})},oe=[{path:"/",Element:se},{path:"anime/:animeId",Element:X},{path:"search",Element:ie}],le=()=>s("div",{style:{fontFamily:"Inspiration",fontWeight:"bold",fontSize:"2rem",userSelect:"none"},children:s(M,{to:"/",children:"Anime"})});var ce="/Project-Anime/assets/Search.50945160.svg";const de=({searchValue:t,updateSearchValue:e})=>{const o=T().pathname==="/search";return n("div",{className:o||t?"search-bar-show":"search-bar-hidden",children:[s("input",{onChange:a=>e(a.target.value),type:"text",value:t,placeholder:"Type to search anime"}),s("img",{src:ce,alt:"search"})]})};const me=()=>{const t=L(),e=T(),r=A(),o=l.exports.useCallback(V(()=>{r("/search")},1e3),[]);return l.exports.useEffect(()=>{t.searchValue&&e.pathname!=="/search"&&o()},[t.searchValue]),n("header",{children:[s(le,{}),s(de,{searchValue:t.searchValue,updateSearchValue:t.updateSearchValue})]})};function he(){return n("div",{className:"App",children:[s(me,{}),s("div",{style:{marginTop:"-80px"},children:n(q,{children:[oe.map(t=>s(w,{path:t.path,element:s(t.Element,{})},t.path)),s(w,{path:"*",element:s("main",{style:{padding:"1rem"},children:s("p",{children:"There's nothing here!"})})})]})})]})}O.render(s(D.StrictMode,{children:s(F,{basename:"/Project-Anime",children:s(re,{children:s(he,{})})})}),document.getElementById("root"));
