var A=Object.defineProperty;var x=(n,e,s)=>e in n?A(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var d=(n,e,s)=>(x(n,typeof e!="symbol"?e+"":e,s),s);import{a as S,j as h,u as p,Y as b,b as w,r as l,L as E,R,c as u,d as T,e as _,B as L}from"./vendor.61c3e608.js";const P=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}};P();class C{constructor(){d(this,"BASE_URL");d(this,"Axios");d(this,"get",async(e,s)=>this.Axios.get(e,{params:s}));this.BASE_URL="https://api.jikan.moe/v4",this.Axios=S.create({baseURL:this.BASE_URL})}}var g=new C;const t=h.exports.jsx,r=h.exports.jsxs,I=h.exports.Fragment,y=({imageUrl:n,title:e,malId:s})=>{let o=p();return r("div",{onClick:s?()=>{o(`anime/${s}`)}:()=>null,className:"tile",children:[t("img",{src:n,alt:"banner"}),e&&r(I,{children:[t("div",{className:"blur"}),t("span",{children:e})]})]})};const $=({videoId:n})=>t("div",{className:"video-player",children:n?t(b,{videoId:n,id:n,opts:{width:"100%",playerVars:{autoplay:1,cc_load_policy:1,rel:0,mute:1}},onReady:e=>{console.log("Ready to play ",e)},onPlay:e=>{console.log("playing ",e)},onPause:e=>{console.log("Paused ",e)},onEnd:e=>console.log("Ended ",e),onError:e=>console.log("Video Error",e)}):t("span",{children:"loading.."})});const v=({animeEntry:n,showTitle:e})=>{let s=p();const o=()=>{s(`anime/${n.mal_id}`)};return n?r("div",{className:"video-container-hoc",children:[t($,{videoId:n.trailer.youtube_id}),e&&r("div",{className:"title-container",children:[t("h1",{className:"title",children:n.title}),t("button",{onClick:o,children:"More Details"})]})]}):null},f={search:"/anime",getAnimeById:"/anime",getSeasonNow:"/seasons/now",getTopAnime:"/top/anime",getWatchRecentEpisodes:"/watch/episodes"},j=n=>({url:f.getAnimeById+"/"+n.toString(),params:{}}),B=()=>({url:f.getSeasonNow,params:{}});const k=()=>{let{animeId:n}=w();const[e,s]=l.exports.useState(null),[o,a]=l.exports.useState(!1);return l.exports.useEffect(()=>{if(n){const{url:i,params:c}=j(n);g.get(i,c).then(m=>s(m.data.data)).catch(m=>a(m))}},[n]),e?r("div",{className:"anime-page",children:[t(v,{animeEntry:e}),r("div",{className:"anime-desc",children:[r("div",{className:"anime-expose",children:[t(y,{imageUrl:e.images.webp.large_image_url}),r("div",{className:"anime-details",children:[t("h1",{className:"title",children:e.title}),r("div",{className:"anime-rating",children:[r("span",{className:"ratings",children:["Score:"," ",t("span",{className:"accent rating-number",children:e.score})]}),r("span",{className:"ratings",children:["Ranked:"," ",r("span",{className:"accent rating-number",children:["#",e.rank]})]}),r("span",{className:"ratings",children:["Popularity:"," ",r("span",{className:"accent rating-number",children:["#",e.popularity]})]})]}),r("div",{className:"data",children:[t("span",{className:"bold",children:"Episodes: "})," ",e.episodes]}),r("div",{className:"data",children:[t("span",{className:"bold",children:"Status: "})," ",e.status]}),r("div",{className:"data",children:[t("span",{className:"bold",children:"Genres: "})," ",e.genres.map(i=>i.name).join(", ")]})]})]}),r("div",{className:"synopsys",children:[r("h2",{children:["Synopsys",t("span",{className:"accent",children:"."})]}),t("p",{children:e.synopsis})]})]})]}):t("div",{className:"error",children:o?"Sorry! Could not find the requested Anime":"Loading..."})},N=l.exports.createContext({}),M=({children:n})=>{const[e,s]=l.exports.useState([]);return l.exports.useEffect(()=>{const{url:o,params:a}=B();e.length===0&&g.get(o,a).then(i=>s(i.data.data)).catch(i=>console.log(i))},[]),t(N.Provider,{value:{animeEntries:e},children:n})},U=()=>l.exports.useContext(N);const O=({tiles:n,showMore:e})=>r("div",{className:"tile-set-container",children:[n.map(s=>t(y,{malId:s.mal_id,title:s.title,imageUrl:s.images.webp.large_image_url},s.mal_id)),e&&t("span",{style:{width:"300px",padding:"30px",fontWeight:"bold",color:"gray"},children:"Show more."})]});const V=({animeData:n})=>r("div",{className:"tile-list-container",children:[t("h2",{children:"Top Anime Current Season"}),t(O,{showMore:n.length>10,tiles:n.length>10?n.slice(0,10):n})]}),F=()=>{const n=U(),s=(()=>{const o=n.animeEntries.filter(a=>a.trailer.youtube_id!==null);return o[Math.floor(Math.random()*o.length)]})();return r("div",{children:[t(v,{animeEntry:s,showTitle:!0}),t(V,{animeData:n.animeEntries})]})},H=[{path:"/",Element:F},{path:"anime/:animeId",Element:k}],W=()=>t("div",{style:{fontFamily:"Inspiration",fontWeight:"bold",fontSize:"2rem",userSelect:"none"},children:t(E,{to:"/",children:"Anime"})});var q="/Project-Anime/assets/Search.50945160.svg";const Y=()=>{const[n,e]=l.exports.useState("");return r("div",{className:n?"search-bar-show":"search-bar-hidden",children:[t("input",{onChange:s=>e(s.target.value),type:"text",value:n,placeholder:"Type to search anime"}),t("img",{src:q,alt:"search"})]})};const z=()=>r("header",{children:[t(W,{})," ",t(Y,{})]});function G(){return r("div",{className:"App",children:[t(z,{}),t("div",{style:{marginTop:"-80px"},children:r(R,{children:[H.map(n=>t(u,{path:n.path,element:t(n.Element,{})},n.path)),t(u,{path:"*",element:t("main",{style:{padding:"1rem"},children:t("p",{children:"There's nothing here!"})})})]})})]})}T.render(t(_.StrictMode,{children:t(L,{basename:"/Project-Anime",children:t(M,{children:t(G,{})})})}),document.getElementById("root"));
